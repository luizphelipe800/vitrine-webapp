[{"/app/src/components/ImageGalery.js":"1","/app/src/pages/DetailsShops.js":"2","/app/src/components/NavBar.js":"3","/app/src/Routes.js":"4","/app/src/pages/Register.js":"5","/app/src/pages/CreateShops.js":"6","/app/src/services/Api.js":"7","/app/src/utils/Fetcher.js":"8","/app/src/components/ShopList.js":"9","/app/src/App.js":"10","/app/src/pages/EditShops.js":"11","/app/src/pages/Profile.js":"12","/app/src/services/Auth.js":"13","/app/src/utils/GetLocalStorage.js":"14","/app/src/utils/SetLocalStorage.js":"15","/app/src/pages/EditUsers.js":"16"},{"size":502,"mtime":1612114503097,"results":"17","hashOfConfig":"18"},{"size":2731,"mtime":1612116565750,"results":"19","hashOfConfig":"18"},{"size":2527,"mtime":1612119327040,"results":"20","hashOfConfig":"18"},{"size":2117,"mtime":1611855830400,"results":"21","hashOfConfig":"18"},{"size":4388,"mtime":1611934252881,"results":"22","hashOfConfig":"18"},{"size":3736,"mtime":1611934480165,"results":"23","hashOfConfig":"18"},{"size":423,"mtime":1611149260410,"results":"24","hashOfConfig":"18"},{"size":193,"mtime":1611158048792,"results":"25","hashOfConfig":"18"},{"size":1532,"mtime":1611864928583,"results":"26","hashOfConfig":"18"},{"size":122,"mtime":1611860675946,"results":"27","hashOfConfig":"18"},{"size":4468,"mtime":1611935193972,"results":"28","hashOfConfig":"18"},{"size":643,"mtime":1611878922554,"results":"29","hashOfConfig":"18"},{"size":1042,"mtime":1611177395734,"results":"30","hashOfConfig":"18"},{"size":503,"mtime":1611073614561,"results":"31","hashOfConfig":"18"},{"size":558,"mtime":1611177211996,"results":"32","hashOfConfig":"18"},{"size":1782,"mtime":1611936931039,"results":"33","hashOfConfig":"18"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},"1c7jahe",{"filePath":"37","messages":"38","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39","usedDeprecatedRules":"40"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"43"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/app/src/components/ImageGalery.js",[],["70","71"],"/app/src/pages/DetailsShops.js",["72"],"import useSWR, { mutate } from 'swr';\nimport Fetcher from '../utils/Fetcher';\nimport { useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { getUser } from '../services/Auth';\n\n//components\nimport NavBar from '../components/NavBar';\nimport ImageGalery from '../components/ImageGalery';\nimport Api from '../services/Api';\n\n//icons\nimport { AiFillFileImage } from 'react-icons/ai';\n\nconst DetailsShops = () => {\n  const { id } = useParams();\n  const { data: currentShop, error } = useSWR(`/shops/${id}`, Fetcher);\n  const [ image, setImage ] = useState(null);\n  const [ imageUrl, setImageUrl ] = useState(null);\n\n  const handleOnSaveBtnClick = async () => {\n    try{\n      const form = new FormData();\n      form.append('shopImg', image, image.name);\n\n      await Api.post(`/files/${id}`, form);\n\n      mutate(`/shops/${id}`);\n    }catch(err){\n      console.log(err);\n    }\n  }\n\n  if(!currentShop) return <p>Loading...</p>\n\n  return (\n    <div>\n      <NavBar/>\n      <h1 className=\"ml-10 font-bold text-xl\">{ currentShop.shop.name }</h1>\n      <p className=\"ml-10\">{ currentShop.shop.address }</p>\n      <div>\n        <h3 className=\"ml-10 my-3 font-bold\">Loja</h3>\n        { \n          currentShop.shop.userId === getUser().id &&\n          <div className=\"px-10\">\n            <div className=\"border border-gray-300 flex justify-center items-center rounded hover:shadow-lg mb-3\">\n              <label htmlFor=\"input-file\" className=\"w-full p-3 cursor-pointer\">\n                <span className=\"text-4xl flex items-center justify-center text-gray-300\">\n                  <div className=\"h-full\">\n                    { imageUrl ? (\n                      <div className=\"h-36\">\n                        <img src={imageUrl} alt=\"imagem a ser inserida\" className=\"object-cover h-full\"/>\n                      </div>\n                    ):(\n                      <AiFillFileImage/> \n                    )}\n                  </div>\n                </span>\n                <input \n                  type=\"file\"\n                  id=\"input-file\"\n                  accept=\"image/*\"\n                  onChange={ev => {\n                    if(ev.target.files.length > 0){\n                      setImage(ev.target.files[0]);\n                      setImageUrl(URL.createObjectURL(ev.target.files[0]));\n                    }\n                  }}\n                  className=\"sr-only\"\n                />\n              </label>\n            </div>\n\n            <button onClick={handleOnSaveBtnClick} className=\"bg-yellow-500 text-gray-900 py-2 px-4 rounded shadow-md\">Salvar</button>\n          </div>\n        }\n        <ImageGalery images={ currentShop.shopimages }/>\n      </div>\n    </div>\n  )\n}\n\nexport default DetailsShops;",["73","74"],"/app/src/components/NavBar.js",[],["75","76"],"/app/src/Routes.js",[],"/app/src/pages/Register.js",[],"/app/src/pages/CreateShops.js",[],"/app/src/services/Api.js",[],"/app/src/utils/Fetcher.js",[],"/app/src/components/ShopList.js",[],"/app/src/App.js",[],"/app/src/pages/EditShops.js",[],"/app/src/pages/Profile.js",[],"/app/src/services/Auth.js",[],"/app/src/utils/GetLocalStorage.js",[],"/app/src/utils/SetLocalStorage.js",[],"/app/src/pages/EditUsers.js",[],{"ruleId":"77","replacedBy":"78"},{"ruleId":"79","replacedBy":"80"},{"ruleId":"81","severity":1,"message":"82","line":17,"column":30,"nodeType":"83","messageId":"84","endLine":17,"endColumn":35},{"ruleId":"77","replacedBy":"85"},{"ruleId":"79","replacedBy":"86"},{"ruleId":"77","replacedBy":"87"},{"ruleId":"79","replacedBy":"88"},"no-native-reassign",["89"],"no-negated-in-lhs",["90"],"no-unused-vars","'error' is assigned a value but never used.","Identifier","unusedVar",["89"],["90"],["89"],["90"],"no-global-assign","no-unsafe-negation"]